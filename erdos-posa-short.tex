\section{Packing and traversal numbers for nowhere dense graphs}\label{sec:ep}
In this section we prove 
Theorem~\ref{thm:erdos-posa}. 
%
% \setcounter{aux}{\value{theorem}}
% \setcounter{theorem}{\value{ep}}
%  \setcounter{auxsec}{\value{section}}
% \setcounter{section}{1}
%\begin{theorem}
%	Fix a nowhere dense class of graphs $\CCC$ and a 
%	formula $\phi(x,y)$ with two free variables $x,y$.
%	Then there is a function $f\from \N\to\N$ with the following property.
%	Let $G\in \CCC$ be a graph and let $\cal G$
%	be a family of subsets of $V(G)$ consisting of sets of the form $\setof{v\in V(G)}{\phi(u, v)}$, where~$u$ is some vertex of $V(G)$.
%Then~$\tau({\cal G})\le f(\nu(\cal G))$.
%\end{theorem}
% \setcounter{theorem}{\value{aux}}
% \setcounter{section}{\value{auxsec}}
%
%\erdosposa*
% \begin{theorem}\label{thm:erdos-posa}
% 	Fix a nowhere dense class of graphs $\CCC$ and a
% 	formula $\phi(x,y)$ with free variables $x,y$.
% 	 % where $x$ is a single variable and $\bar y$ is a tuple of variables.
% 	There is a function $f\from \N\to\N$ with the following property.
% 	Let $G\in \CCC$ be a graph and let $\cal G$
% 	be a family of subsets of $V(G)$ consisting of sets of the form $\setof{b\in V(G)}{\phi(a, b)}$, where~$a\in V(G)$.
% Then~$\tau({\cal G})\le f(\nu(\cal G))$.
% \end{theorem}
%
We will apply the following result of Matou{\v s}ek~\cite{Matousek:2004:BVI:1005787.1005789}.
In the result of Matou{\v s}ek, the set system $\cal F$ is infinite. For $m\in \N$, by $\pi_{\cal F}^*(m)$ we denote the \emph{dual shatter function} of $\cal F$, which is defined as the maximal number 
of occupied cells in the Venn diagram of $m$ sets in~$\cal F$.


\begin{theorem}[Matou{\v s}ek, \cite{Matousek:2004:BVI:1005787.1005789}]\label{thm:pq}
	Let $\cal F$ be a set system with $\pi^*_{\cal F}(m)=o(m^k)$,
	for some integer $k$, and let $p\ge k$.
	Then there is a constant $T$ such that the following holds for every finite family $\cal G\subset \cal F$: 
	if $\cal G$ has the $(p,k)$-property, meaning that 
	among every $p$ sets in $\cal G$ some $k$ have a non-empty intersection, then $\tau ({\cal G})\le T$.
\end{theorem}
\begin{proof}[Proof of \autoref{thm:erdos-posa}]
For a graph $G$, define the set system ${\cal F}_G$ on the ground set $V(G)$ as
$${\cal F}_G = \setof{\setof{v\in V(G)}{\phi(u, v)}}{u\in V(G)}.$$
Let then $\cal F$ be the disjoint union of set systems ${\cal F}_G$ for $G\in \CCC$. That is, 
the ground set of $\cal F$ is the disjoint union of the vertex sets $V(G)$ for $G\in \CCC$, and for each $G\in \CCC$ we add to ${\cal F}$
a copy of ${\cal F}_G$ over the copy of relevant $V(G)$.
Then the following claim follows directly from~\autoref{thm:vc-density}.

\begin{claim}
The dual shatter function of $\cal F$ satisfies $\pi^*_{\cal F}(m)=\Oof(m^{1+\epsilon})$,
for every fixed $\epsilon>0$. In particular, $\pi^*_{\cal F}(m)=o(m^{2})$.
\end{claim}

Consider the function $f\from \N \to \N$ defined so that $f(\nu)$ is the value $T$ obtained from~\autoref{thm:pq} applied to $\cal F$, $k=2$, and $p=\nu+1$.
Suppose now that $G\in \CCC$ is a graph and $\GGG\subseteq \FFF_G$
is a family of subsets of $V(G)$ consisting of sets of the form $\{v\in V(G)\,\colon\,\phi(u,v)\}$, where $u$ is some vertex of $G$.
We identify $\GGG$ with a subfamily of $\FFF$ in the natural way, following the embedding of $\FFF_G$ into $\FFF$ used in the construction of the latter.
Let $\nu$ be the packing number of $\GGG$.
In particular, for every $\nu+1$ subsets of $\GGG$
there is a vertex $v\in V(G)$
which is contained in two elements of~$\GGG$.
Hence, $\GGG$ is a $(p,2)$-family for $p=\nu+1$.
By~\autoref{thm:pq}, $\tau(\GGG)\le T=f(\nu)=f(\nu(\GGG))$, as required.
\end{proof}
